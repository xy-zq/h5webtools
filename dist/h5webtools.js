!function (e, t) { "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define("jxcdH5Tools", [], t) : "object" == typeof exports ? exports.jxcdH5Tools = t() : e.jxcdH5Tools = t() }(this, (function () { return r = {}, e.m = t = [function (e, t) { e.exports = function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }, e.exports.__esModule = !0, e.exports.default = e.exports }, function (e, t) { function r(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } e.exports = function (e, t, n) { return t && r(e.prototype, t), n && r(e, n), Object.defineProperty(e, "prototype", { writable: !1 }), e }, e.exports.__esModule = !0, e.exports.default = e.exports }, function (e, t, r) { e.exports = r(4) }, function (e, t) { function r(e, t, r, n, o, i, a) { try { var c = e[i](a), s = c.value } catch (e) { return void r(e) } c.done ? t(s) : Promise.resolve(s).then(n, o) } e.exports = function (e) { return function () { var t = this, n = arguments; return new Promise((function (o, i) { var a = e.apply(t, n); function c(e) { r(a, o, i, c, s, "next", e) } function s(e) { r(a, o, i, c, s, "throw", e) } c(void 0) })) } }, e.exports.__esModule = !0, e.exports.default = e.exports }, function (e, t, r) { e = function (e) { "use strict"; var t, r = Object.prototype, n = r.hasOwnProperty, o = "function" == typeof Symbol ? Symbol : {}, i = o.iterator || "@@iterator", a = o.asyncIterator || "@@asyncIterator", c = o.toStringTag || "@@toStringTag"; function s(e, t, r) { return Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }), e[t] } try { s({}, "") } catch (r) { s = function (e, t, r) { return e[t] = r } } function f(e, r, n, o) { var i, a, c, s; r = r && r.prototype instanceof v ? r : v, r = Object.create(r.prototype), o = new L(o || []); return r._invoke = (i = e, a = n, c = o, s = l, function (e, r) { if (s === d) throw new Error("Generator is already running"); if (s === h) { if ("throw" === e) throw r; return k() } for (c.method = e, c.arg = r; ;) { var n = c.delegate; if (n) { var o = function e(r, n) { var o; if ((o = r.iterator[n.method]) === t) { if (n.delegate = null, "throw" === n.method) { if (r.iterator.return && (n.method = "return", n.arg = t, e(r, n), "throw" === n.method)) return m; n.method = "throw", n.arg = new TypeError("The iterator does not provide a 'throw' method") } return m } return "throw" === (o = b(o, r.iterator, n.arg)).type ? (n.method = "throw", n.arg = o.arg, n.delegate = null, m) : (o = o.arg) ? o.done ? (n[r.resultName] = o.value, n.next = r.nextLoc, "return" !== n.method && (n.method = "next", n.arg = t), n.delegate = null, m) : o : (n.method = "throw", n.arg = new TypeError("iterator result is not an object"), n.delegate = null, m) }(n, c); if (o) { if (o === m) continue; return o } } if ("next" === c.method) c.sent = c._sent = c.arg; else if ("throw" === c.method) { if (s === l) throw s = h, c.arg; c.dispatchException(c.arg) } else "return" === c.method && c.abrupt("return", c.arg); if (s = d, "normal" === (o = b(i, a, c)).type) { if (s = c.done ? h : u, o.arg !== m) return { value: o.arg, done: c.done } } else "throw" === o.type && (s = h, c.method = "throw", c.arg = o.arg) } }), r } function b(e, t, r) { try { return { type: "normal", arg: e.call(t, r) } } catch (e) { return { type: "throw", arg: e } } } e.wrap = f; var l = "suspendedStart", u = "suspendedYield", d = "executing", h = "completed", m = {}; function v() { } function p() { } function y() { } var g = {}; s(g, i, (function () { return this })), (o = (o = Object.getPrototypeOf) && o(o(M([])))) && o !== r && n.call(o, i) && (g = o); var x = y.prototype = v.prototype = Object.create(g); function w(e) { ["next", "throw", "return"].forEach((function (t) { s(e, t, (function (e) { return this._invoke(t, e) })) })) } function S(e, t) { var r; this._invoke = function (o, i) { function a() { return new t((function (r, a) { !function r(o, i, a, c) { if ("throw" !== (o = b(e[o], e, i)).type) { var s = o.arg; return (i = s.value) && "object" == typeof i && n.call(i, "__await") ? t.resolve(i.__await).then((function (e) { r("next", e, a, c) }), (function (e) { r("throw", e, a, c) })) : t.resolve(i).then((function (e) { s.value = e, a(s) }), (function (e) { return r("throw", e, a, c) })) } c(o.arg) }(o, i, r, a) })) } return r = r ? r.then(a, a) : a() } } function E(e) { var t = { tryLoc: e[0] }; 1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t) } function T(e) { var t = e.completion || {}; t.type = "normal", delete t.arg, e.completion = t } function L(e) { this.tryEntries = [{ tryLoc: "root" }], e.forEach(E, this), this.reset(!0) } function M(e) { if (e) { if (r = e[i]) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var r, o = -1; return (r = function r() { for (; ++o < e.length;)if (n.call(e, o)) return r.value = e[o], r.done = !1, r; return r.value = t, r.done = !0, r }).next = r } } return { next: k } } function k() { return { value: t, done: !0 } } return s(x, "constructor", p.prototype = y), s(y, "constructor", p), p.displayName = s(y, c, "GeneratorFunction"), e.isGeneratorFunction = function (e) { return !!(e = "function" == typeof e && e.constructor) && (e === p || "GeneratorFunction" === (e.displayName || e.name)) }, e.mark = function (e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, y) : (e.__proto__ = y, s(e, c, "GeneratorFunction")), e.prototype = Object.create(x), e }, e.awrap = function (e) { return { __await: e } }, w(S.prototype), s(S.prototype, a, (function () { return this })), e.AsyncIterator = S, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new S(f(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then((function (e) { return e.done ? e.value : a.next() })) }, w(x), s(x, c, "Generator"), s(x, i, (function () { return this })), s(x, "toString", (function () { return "[object Generator]" })), e.keys = function (e) { var t, r = []; for (t in e) r.push(t); return r.reverse(), function t() { for (; r.length;) { var n = r.pop(); if (n in e) return t.value = n, t.done = !1, t } return t.done = !0, t } }, e.values = M, L.prototype = { constructor: L, reset: function (e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(T), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t) }, stop: function () { this.done = !0; var e = this.tryEntries[0].completion; if ("throw" === e.type) throw e.arg; return this.rval }, dispatchException: function (e) { if (this.done) throw e; var r = this; function o(n, o) { return c.type = "throw", c.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o } for (var i = this.tryEntries.length - 1; 0 <= i; --i) { var a = this.tryEntries[i], c = a.completion; if ("root" === a.tryLoc) return o("end"); if (a.tryLoc <= this.prev) { var s = n.call(a, "catchLoc"), f = n.call(a, "finallyLoc"); if (s && f) { if (this.prev < a.catchLoc) return o(a.catchLoc, !0); if (this.prev < a.finallyLoc) return o(a.finallyLoc) } else if (s) { if (this.prev < a.catchLoc) return o(a.catchLoc, !0) } else { if (!f) throw new Error("try statement without catch or finally"); if (this.prev < a.finallyLoc) return o(a.finallyLoc) } } } }, abrupt: function (e, t) { for (var r = this.tryEntries.length - 1; 0 <= r; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break } } var a = (i = i && ("break" === e || "continue" === e) && i.tryLoc <= t && t <= i.finallyLoc ? null : i) ? i.completion : {}; return a.type = e, a.arg = t, i ? (this.method = "next", this.next = i.finallyLoc, m) : this.complete(a) }, complete: function (e, t) { if ("throw" === e.type) throw e.arg; return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), m }, finish: function (e) { for (var t = this.tryEntries.length - 1; 0 <= t; --t) { var r = this.tryEntries[t]; if (r.finallyLoc === e) return this.complete(r.completion, r.afterLoc), T(r), m } }, catch: function (e) { for (var t = this.tryEntries.length - 1; 0 <= t; --t) { var r = this.tryEntries[t]; if (r.tryLoc === e) { var n, o = r.completion; return "throw" === o.type && (n = o.arg, T(r)), n } } throw new Error("illegal catch attempt") }, delegateYield: function (e, r, n) { return this.delegate = { iterator: M(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), m } }, e }(e.exports); try { regeneratorRuntime = e } catch (t) { "object" == typeof globalThis ? globalThis.regeneratorRuntime = e : Function("r", "regeneratorRuntime = r")(e) } }, function (e, t, r) { "use strict"; r.r(t), r.d(t, "commonTools", (function () { return s })), r.d(t, "dragTo", (function () { return f })), r.d(t, "openCamera", (function () { return b })); t = r(0); var n = r.n(t), o = (t = r(1), r.n(t)), i = (t = r(3), r.n(t)), a = (t = r(2), r.n(t)), c = (t = function () { var e = i()(a.a.mark((function e(t, r) { var n, o; return a.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return n = new FormData, r.map((function (e) { n.append("file", e) })), o = (new Date).valueOf(), n.append("moduleKey", o), n.append("filePath", o), e.abrupt("return", new Promise((function (e, r) { c({ method: "POST", url: t + "/upload/moduleUploadFile", data: n, header: {} }).then((function (t) { e(t) })).catch((function (e) { r(res) })) }))); case 6: case "end": return e.stop() } }), e) }))); return function (t, r) { return e.apply(this, arguments) } }(), function () { var e = i()(a.a.mark((function e(t) { var r; return a.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r = function () { function e(t, r, o) { n()(this, e), this.XHR = this.createXHR(), this.URL = t.url, this.METHOD = t.method || "GET", this.PARAMS = t.data, this.HEADER = t.header, this.TOKEN = t.token, this.CALLBACK_RES = r, this.CALLBACK_ERR = o, this.init() } return o()(e, [{ key: "init", value: function () { if (this.XHR.open(this.METHOD, this.URL, !0), this.HEADER) { for (var e in this.HEADER) this.XHR.setRequestHeader(e, this.HEADER[e]); this.TOKEN && this.XHR.setRequestHeader("token", this.TOKEN) } else this.XHR.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8"), this.TOKEN && this.XHR.setRequestHeader("token", this.TOKEN); this.XHR.onreadystatechange = this.requestReady.bind(this), this.XHR.send("GET" === this.METHOD ? null : this.PARAMS) } }, { key: "createXHR", value: function () { if (XMLHttpRequest) return new XMLHttpRequest; if ("undefined" == typeof ActiveXObject) throw new Error("No XHR object availabel"); for (var e = ["Microsoft.XMLHTTP", "MSXML2.XMLHTTP.6.0", "MSXML2.XMLHTTP.5.0", "MSXML2.XMLHTTP.4.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP.2.0"], t = e.length, r = 0; r < t; r++)try { xhr = new ActiveXObject(e[r]); break } catch (e) { } return xhr } }, { key: "requestReady", value: function () { 4 == this.XHR.readyState && (200 <= this.XHR.status && this.XHR.status < 300 || 304 === this.XHR.status ? this.CALLBACK_RES(JSON.parse(this.XHR.responseText)) : this.CALLBACK_ERR(JSON.parse(this.XHR.statusText))) } }]), e }(), e.abrupt("return", new Promise((function (e, n) { new r(t, (function (t) { e(t) }), (function (e) { n(res) })) }))); case 2: case "end": return e.stop() } }), e) }))); return function (t) { return e.apply(this, arguments) } }()), s = { formatDate: function (e) { var t, r, n, o = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : "-", i = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : ":", a = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : 24, c = new Date(e), s = (a = 12 == parseInt(a) ? 12 : 24, c.getFullYear()), f = (c.getMonth() + 1).toString().padStart(2, "0"), b = c.getDate().toString().padStart(2, "0"); return c = 12 == a ? (t = (e = c.toLocaleTimeString("chinese", { hour12: !0 }).split(""))[0] + e[1], e.splice(0, 2), r = (e = e.join("").split(":"))[0], n = e[1], e[2]) : (r = c.getHours().toString().padStart(2, "0"), n = c.getMinutes().toString().padStart(2, "0"), c.getSeconds().toString().padStart(2, "0")), o && i ? [s, f, b].join(o.toString()) + " " + [r, n, c].join(i) + (12 == a ? " " + t : "") : o && !i ? [s, f, b].join(o.toString()) + " " + r + "时" + n + "分" + c + "秒" + (12 == a ? " " + t : "") : !o && i ? s + "年" + f + "月" + b + "日 " + [r, n, c].join(i) + (12 == a ? " " + t : "") : s + "年" + f + "月" + b + "日 " + r + "时" + n + "分" + c + "秒" + (12 == a ? " " + t : "") }, CNDateString: function (e) { for (var t = ["〇", "一", "二", "三", "四", "五", "六", "七", "八", "九"], r = [], n = e.getFullYear().toString(), o = 0; o < n.length; o++)t[n.charAt(o)] ? r.push(t[n.charAt(o)]) : r.push(n.charAt(o)); r.push("年"); var i = e.getMonth() + 1; return i < 10 ? r.push(t[i]) : i < 20 && r.push("十" + t[i % 10]), r.push("月"), (e = e.getDate()) < 10 ? r.push(t[e]) : e < 20 ? r.push("十" + t[e % 10]) : r.push("二十" + t[e % 10]), r.push("日"), r.join("") }, dataURLtoFile: function (e, t) { for (var r = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : "file", n = e.split(","), o = (e = n[0].match(/:(.*?);/)[1], atob(n[1])), i = o.length, a = new Uint8Array(i); i--;)a[i] = o.charCodeAt(i); return "blob" == r ? new Blob([a], { type: e }) : new File([a], t, { type: e }) }, zipImg: function (e) { var t, r, n, o = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0, i = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : .92; e.file.size > parseInt(o) && (t = document.createElement("canvas"), r = t.getContext("2d"), (n = new Image).src = e.content, n.onload = function () { "png" == e.file.name.split(".")[1] ? (t.width = 1600, t.height = 900) : (t.width = 2560, t.height = 1440), r.drawImage(n, 0, 0, t.width, t.height); for (var o = t.toDataURL(e.file.type, i), a = atob(o.split(",")[1]), c = [], s = 0; s < a.length; s++)c.push(a.charCodeAt(s)); return o = new Blob([new Uint8Array(c)], { type: "image/png" }), new File([o], (new Date).getTime() + ".png") }) }, randomId: function (e) { var t = Number(Math.random().toString().substr(3, e) + Date.now()).toString(36); return (t = t.split("")).map((function (e, r) { Math.random().toString().substr(3, 1) % 2 && (t[r] = e.toUpperCase()) })), t.join("") }, getLunarCalendar: function (e) { var t = { lunarInfo: [19416, 19168, 42352, 21717, 53856, 55632, 91476, 22176, 39632, 21970, 19168, 42422, 42192, 53840, 119381, 46400, 54944, 44450, 38320, 84343, 18800, 42160, 46261, 27216, 27968, 109396, 11104, 38256, 21234, 18800, 25958, 54432, 59984, 28309, 23248, 11104, 100067, 37600, 116951, 51536, 54432, 120998, 46416, 22176, 107956, 9680, 37584, 53938, 43344, 46423, 27808, 46416, 86869, 19872, 42416, 83315, 21168, 43432, 59728, 27296, 44710, 43856, 19296, 43748, 42352, 21088, 62051, 55632, 23383, 22176, 38608, 19925, 19152, 42192, 54484, 53840, 54616, 46400, 46752, 103846, 38320, 18864, 43380, 42160, 45690, 27216, 27968, 44870, 43872, 38256, 19189, 18800, 25776, 29859, 59984, 27480, 21952, 43872, 38613, 37600, 51552, 55636, 54432, 55888, 30034, 22176, 43959, 9680, 37584, 51893, 43344, 46240, 47780, 44368, 21977, 19360, 42416, 86390, 21168, 43312, 31060, 27296, 44368, 23378, 19296, 42726, 42208, 53856, 60005, 54576, 23200, 30371, 38608, 19195, 19152, 42192, 118966, 53840, 54560, 56645, 46496, 22224, 21938, 18864, 42359, 42160, 43600, 111189, 27936, 44448, 84835, 37744, 18936, 18800, 25776, 92326, 59984, 27424, 108228, 43744, 41696, 53987, 51552, 54615, 54432, 55888, 23893, 22176, 42704, 21972, 21200, 43448, 43344, 46240, 46758, 44368, 21920, 43940, 42416, 21168, 45683, 26928, 29495, 27296, 44368, 84821, 19296, 42352, 21732, 53600, 59752, 54560, 55968, 92838, 22224, 19168, 43476, 41680, 53584, 62034, 54560], solarMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31], Gan: ["甲", "乙", "丙", "丁", "戊", "己", "庚", "辛", "壬", "癸"], Zhi: ["子", "丑", "寅", "卯", "辰", "巳", "午", "未", "申", "酉", "戌", "亥"], Animals: ["鼠", "牛", "虎", "兔", "龙", "蛇", "马", "羊", "猴", "鸡", "狗", "猪"], solarTerm: ["小寒", "大寒", "立春", "雨水", "惊蛰", "春分", "清明", "谷雨", "立夏", "小满", "芒种", "夏至", "小暑", "大暑", "立秋", "处暑", "白露", "秋分", "寒露", "霜降", "立冬", "小雪", "大雪", "冬至"], sTermInfo: ["9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf97c3598082c95f8c965cc920f", "97bd0b06bdb0722c965ce1cfcc920f", "b027097bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf97c359801ec95f8c965cc920f", "97bd0b06bdb0722c965ce1cfcc920f", "b027097bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf97c359801ec95f8c965cc920f", "97bd0b06bdb0722c965ce1cfcc920f", "b027097bd097c36b0b6fc9274c91aa", "9778397bd19801ec9210c965cc920e", "97b6b97bd19801ec95f8c965cc920f", "97bd09801d98082c95f8e1cfcc920f", "97bd097bd097c36b0b6fc9210c8dc2", "9778397bd197c36c9210c9274c91aa", "97b6b97bd19801ec95f8c965cc920e", "97bd09801d98082c95f8e1cfcc920f", "97bd097bd097c36b0b6fc9210c8dc2", "9778397bd097c36c9210c9274c91aa", "97b6b97bd19801ec95f8c965cc920e", "97bcf97c3598082c95f8e1cfcc920f", "97bd097bd097c36b0b6fc9210c8dc2", "9778397bd097c36c9210c9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf97c3598082c95f8c965cc920f", "97bd097bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf97c3598082c95f8c965cc920f", "97bd097bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf97c359801ec95f8c965cc920f", "97bd097bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf97c359801ec95f8c965cc920f", "97bd097bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf97c359801ec95f8c965cc920f", "97bd097bd07f595b0b6fc920fb0722", "9778397bd097c36b0b6fc9210c8dc2", "9778397bd19801ec9210c9274c920e", "97b6b97bd19801ec95f8c965cc920f", "97bd07f5307f595b0b0bc920fb0722", "7f0e397bd097c36b0b6fc9210c8dc2", "9778397bd097c36c9210c9274c920e", "97b6b97bd19801ec95f8c965cc920f", "97bd07f5307f595b0b0bc920fb0722", "7f0e397bd097c36b0b6fc9210c8dc2", "9778397bd097c36c9210c9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bd07f1487f595b0b0bc920fb0722", "7f0e397bd097c36b0b6fc9210c8dc2", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf7f1487f595b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf7f1487f595b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf7f1487f531b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c965cc920e", "97bcf7f1487f531b0b0bb0b6fb0722", "7f0e397bd07f595b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b97bd19801ec9210c9274c920e", "97bcf7f0e47f531b0b0bb0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "9778397bd097c36b0b6fc9210c91aa", "97b6b97bd197c36c9210c9274c920e", "97bcf7f0e47f531b0b0bb0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "9778397bd097c36b0b6fc9210c8dc2", "9778397bd097c36c9210c9274c920e", "97b6b7f0e47f531b0723b0b6fb0722", "7f0e37f5307f595b0b0bc920fb0722", "7f0e397bd097c36b0b6fc9210c8dc2", "9778397bd097c36b0b70c9274c91aa", "97b6b7f0e47f531b0723b0b6fb0721", "7f0e37f1487f595b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc9210c8dc2", "9778397bd097c36b0b6fc9274c91aa", "97b6b7f0e47f531b0723b0b6fb0721", "7f0e27f1487f595b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "9778397bd097c36b0b6fc9274c91aa", "97b6b7f0e47f531b0723b0787b0721", "7f0e27f0e47f531b0b0bb0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "9778397bd097c36b0b6fc9210c91aa", "97b6b7f0e47f149b0723b0787b0721", "7f0e27f0e47f531b0723b0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "9778397bd097c36b0b6fc9210c8dc2", "977837f0e37f149b0723b0787b0721", "7f07e7f0e47f531b0723b0b6fb0722", "7f0e37f5307f595b0b0bc920fb0722", "7f0e397bd097c35b0b6fc9210c8dc2", "977837f0e37f14998082b0787b0721", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e37f1487f595b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc9210c8dc2", "977837f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc920fb0722", "977837f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e397bd097c35b0b6fc920fb0722", "977837f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "977837f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "977837f0e37f14998082b0787b06bd", "7f07e7f0e47f149b0723b0787b0721", "7f0e27f0e47f531b0b0bb0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "977837f0e37f14998082b0723b06bd", "7f07e7f0e37f149b0723b0787b0721", "7f0e27f0e47f531b0723b0b6fb0722", "7f0e397bd07f595b0b0bc920fb0722", "977837f0e37f14898082b0723b02d5", "7ec967f0e37f14998082b0787b0721", "7f07e7f0e47f531b0723b0b6fb0722", "7f0e37f1487f595b0b0bb0b6fb0722", "7f0e37f0e37f14898082b0723b02d5", "7ec967f0e37f14998082b0787b0721", "7f07e7f0e47f531b0723b0b6fb0722", "7f0e37f1487f531b0b0bb0b6fb0722", "7f0e37f0e37f14898082b0723b02d5", "7ec967f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e37f1487f531b0b0bb0b6fb0722", "7f0e37f0e37f14898082b072297c35", "7ec967f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e37f0e37f14898082b072297c35", "7ec967f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e37f0e366aa89801eb072297c35", "7ec967f0e37f14998082b0787b06bd", "7f07e7f0e47f149b0723b0787b0721", "7f0e27f1487f531b0b0bb0b6fb0722", "7f0e37f0e366aa89801eb072297c35", "7ec967f0e37f14998082b0723b06bd", "7f07e7f0e47f149b0723b0787b0721", "7f0e27f0e47f531b0723b0b6fb0722", "7f0e37f0e366aa89801eb072297c35", "7ec967f0e37f14998082b0723b06bd", "7f07e7f0e37f14998083b0787b0721", "7f0e27f0e47f531b0723b0b6fb0722", "7f0e37f0e366aa89801eb072297c35", "7ec967f0e37f14898082b0723b02d5", "7f07e7f0e37f14998082b0787b0721", "7f07e7f0e47f531b0723b0b6fb0722", "7f0e36665b66aa89801e9808297c35", "665f67f0e37f14898082b0723b02d5", "7ec967f0e37f14998082b0787b0721", "7f07e7f0e47f531b0723b0b6fb0722", "7f0e36665b66a449801e9808297c35", "665f67f0e37f14898082b0723b02d5", "7ec967f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e36665b66a449801e9808297c35", "665f67f0e37f14898082b072297c35", "7ec967f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e26665b66a449801e9808297c35", "665f67f0e37f1489801eb072297c35", "7ec967f0e37f14998082b0787b06bd", "7f07e7f0e47f531b0723b0b6fb0721", "7f0e27f1487f531b0b0bb0b6fb0722"], nStr1: ["日", "一", "二", "三", "四", "五", "六", "七", "八", "九", "十"], nStr2: ["初", "十", "廿", "卅"], nStr3: ["正", "二", "三", "四", "五", "六", "七", "八", "九", "十", "冬", "腊"], lYearDays: function (e) { for (var r = 348, n = 32768; 8 < n; n >>= 1)r += t.lunarInfo[e - 1900] & n ? 1 : 0; return r + t.leapDays(e) }, leapMonth: function (e) { return 15 & t.lunarInfo[e - 1900] }, leapDays: function (e) { return t.leapMonth(e) ? 65536 & t.lunarInfo[e - 1900] ? 30 : 29 : 0 }, monthDays: function (e, r) { return 12 < r || r < 1 ? -1 : t.lunarInfo[e - 1900] & 65536 >> r ? 30 : 29 }, solarDays: function (e, r) { return 12 < r || r < 1 ? -1 : 1 == (r -= 1) ? e % 4 == 0 && e % 100 != 0 || e % 400 == 0 ? 29 : 28 : t.solarMonth[r] }, toGanZhiYear: function (e) { var r = (e - 3) % 10; e = (e - 3) % 12; return t.Gan[(r = 0 == r ? 10 : r) - 1] + t.Zhi[(e = 0 == e ? 12 : e) - 1] }, toAstro: function (e, t) { return "魔羯水瓶双鱼白羊金牛双子巨蟹狮子处女天秤天蝎射手魔羯".substr(2 * e - (t < [20, 19, 21, 21, 21, 22, 23, 23, 23, 23, 22, 22][e - 1] ? 2 : 0), 2) + "座" }, toGanZhi: function (e) { return t.Gan[e % 10] + t.Zhi[e % 12] }, getTerm: function (e, r) { return e < 1900 || 2100 < e || r < 1 || 24 < r ? -1 : (e = t.sTermInfo[e - 1900], e = [(e = [parseInt("0x" + e.substr(0, 5)).toString(), parseInt("0x" + e.substr(5, 5)).toString(), parseInt("0x" + e.substr(10, 5)).toString(), parseInt("0x" + e.substr(15, 5)).toString(), parseInt("0x" + e.substr(20, 5)).toString(), parseInt("0x" + e.substr(25, 5)).toString()])[0].substr(0, 1), e[0].substr(1, 2), e[0].substr(3, 1), e[0].substr(4, 2), e[1].substr(0, 1), e[1].substr(1, 2), e[1].substr(3, 1), e[1].substr(4, 2), e[2].substr(0, 1), e[2].substr(1, 2), e[2].substr(3, 1), e[2].substr(4, 2), e[3].substr(0, 1), e[3].substr(1, 2), e[3].substr(3, 1), e[3].substr(4, 2), e[4].substr(0, 1), e[4].substr(1, 2), e[4].substr(3, 1), e[4].substr(4, 2), e[5].substr(0, 1), e[5].substr(1, 2), e[5].substr(3, 1), e[5].substr(4, 2)], parseInt(e[r - 1])) }, toChinaMonth: function (e) { return 12 < e || e < 1 ? -1 : (e = t.nStr3[e - 1]) + "月" }, toChinaDay: function (e) { var r; switch (e) { case 10: r = "初十"; break; case 20: r = "二十"; break; case 30: r = "三十"; break; default: r = t.nStr2[Math.floor(e / 10)], r += t.nStr1[e % 10] }return r }, getAnimal: function (e) { return t.Animals[(e - 4) % 12] }, solar2lunar: function (e, r, n) { if (e < 1900 || 2100 < e) return -1; if (1900 == e && 1 == r && n < 31) return -1; for (var o = 0, i = (e = (w = e ? new Date(e, parseInt(r) - 1, n) : new Date).getFullYear(), r = w.getMonth() + 1, n = w.getDate(), (Date.UTC(w.getFullYear(), w.getMonth(), w.getDate()) - Date.UTC(1900, 0, 31)) / 864e5), a = 1900; a < 2101 && 0 < i; a++)i -= o = t.lYearDays(a); i < 0 && (i += o, a--); var c = !1; (x = new Date).getFullYear() == e && x.getMonth() + 1 == r && x.getDate() == n && (c = !0); var s = w.getDay(), f = t.nStr1[s]; 0 == s && (s = 7); var b = a, l = t.leapMonth(a), u = !1; for (a = 1; a < 13 && 0 < i; a++)o = 0 < l && a == l + 1 && 0 == u ? (--a, u = !0, t.leapDays(b)) : t.monthDays(b, a), 1 == u && a == l + 1 && (u = !1), i -= o; 0 == i && 0 < l && a == l + 1 && (u ? u = !1 : (u = !0, --a)), i < 0 && (i += o, --a); var d = a, h = i + 1, m = r - 1, v = t.toGanZhiYear(b), p = t.getTerm(e, 2 * r - 1), y = t.getTerm(e, 2 * r), g = t.toGanZhi(12 * (e - 1900) + r + 11); p <= n && (g = t.toGanZhi(12 * (e - 1900) + r + 12)); var x = !1, w = null; return p == n && (x = !0, w = t.solarTerm[2 * r - 2]), y == n && (x = !0, w = t.solarTerm[2 * r - 1]), y = Date.UTC(e, m, 1, 0, 0, 0, 0) / 864e5 + 25567 + 10, m = t.toGanZhi(y + n - 1), y = t.toAstro(r, n), { lYear: b, lMonth: d, lDay: h, Animal: t.getAnimal(b), IMonthCn: (u ? "闰" : "") + t.toChinaMonth(d), IDayCn: t.toChinaDay(h), cYear: e, cMonth: r, cDay: n, gzYear: v, gzMonth: g, gzDay: m, isToday: c, isLeap: u, nWeek: s, ncWeek: "星期" + f, isTerm: x, Term: w, astro: y } }, lunar2solar: function (e, r, n, o) { o = !!o; var i = t.leapMonth(e); if (t.leapDays(e), o && i != r) return -1; if (2100 == e && 12 == r && 1 < n || 1900 == e && 1 == r && n < 31) return -1; var a = t.monthDays(e, r); i = a; if (o && (i = t.leapDays(e, r)), e < 1900 || 2100 < e || i < n) return -1; for (var c = 0, s = 1900; s < e; s++)c += t.lYearDays(s); var f, b = !1; for (s = 1; s < r; s++)f = t.leapMonth(e), b || f <= s && 0 < f && (c += t.leapDays(e), b = !0), c += t.monthDays(e, s); return o && (c += a), o = Date.UTC(1900, 1, 30, 0, 0, 0), n = (a = new Date(864e5 * (c + n - 31) + o)).getUTCFullYear(), o = a.getUTCMonth() + 1, a = a.getUTCDate(), t.solar2lunar(n, o, a) } }, r = e.getFullYear(), n = e.getMonth() + 1; e = e.getDate(); return t.solar2lunar(r, n, e) }, xyRequest: c, uploadFile: t, pauseEvent: function (e) { return (e = e || window.event).stopPropagation && e.stopPropagation(), e.preventDefault && e.preventDefault(), e.cancelBubble = !0, e.returnValue = !1 } }, f = function (e) { return new (function () { function e(t) { n()(this, e), this.isMobile = this.isMobile(), this.mobileDragToElem = "", this.originElem = document.querySelector("#".concat(t.originElemID)), this.targetElem = document.querySelector("#".concat(t.targetElemID)), this.cloneElem = "", this.offsetX = "", this.offsetY = "", this.duration = t.duration || "", this.timer = "", this.callbackSuccess = t.success, this.callbackFail = t.fail, this.initDrag() } return o()(e, [{ key: "initDrag", value: function () { this.isMobile ? this.originElem.addEventListener("touchstart", this.startDrag.bind(this)) : this.originElem.addEventListener("mousedown", this.startDrag.bind(this)) } }, { key: "startDrag", value: function (e) { var t = this; e = e || window.event, this.pauseEvent(e); var r = this.originElem.children, n = ""; this.timer = "", this.finishDrag = this.finishDrag.bind(this), this.isMobile ? document.addEventListener("touchend", this.finishDrag) : document.addEventListener("mouseup", this.finishDrag); for (var o = 0; o < r.length; o++)r[o].contains(e.target) && (n = r[o], "static" == getComputedStyle(n, null).position && (n.style.position = "relative", n.classList.add("xy_drag_offset_parent"))); n && (this.offsetX = this.calcMouseToElem(event, n)[0] - 3, this.offsetY = this.calcMouseToElem(event, n)[1] + 3, this.duration ? (this.moveMouse = this.moveMouse.bind(this), this.isMobile ? document.addEventListener("touchmove", this.moveMouse) : document.addEventListener("mousemove", this.moveMouse), this.timer = setTimeout((function () { t.beforeOnDrag(n), t.isMobile ? document.removeEventListener("touchmove", t.moveMouse) : document.removeEventListener("mousemove", t.moveMouse) }), this.duration)) : this.beforeOnDrag(n)) } }, { key: "moveMouse", value: function () { clearTimeout(this.timer), this.timer = "" } }, { key: "beforeOnDrag", value: function (e) { this.cloneElem = e.cloneNode(!0); var t = this.calcOffset(e)[0] + 3, r = this.calcOffset(e)[1] - 3; this.cloneElem.style.position = "fixed", this.cloneElem.style.zIndex = 2, this.cloneElem.style.left = t + "px", this.cloneElem.style.top = r + "px", this.cloneElem.style.width = e.offsetWidth + "px", this.cloneElem.style.height = e.offsetHeight + "px", this.cloneElem.style.margin = 0, this.cloneElem.style.cursor = "no-drop", this.cloneElem.style.pointerEvents = "none", document.oncontextmenu = function (e) { return (e = e || window.event).returnValue = !1 }, this.originElem.appendChild(this.cloneElem), this.onDrag = this.onDrag.bind(this), this.isMobile ? document.addEventListener("touchmove", this.onDrag) : document.addEventListener("mousemove", this.onDrag) } }, { key: "onDrag", value: function (e) { e = e || window.event, this.isMobile ? (this.cloneElem.style.left = e.targetTouches[0].pageX - this.offsetX + "px", this.cloneElem.style.top = e.targetTouches[0].pageY - this.offsetY + "px", this.mobileDragToElem = document.elementFromPoint(e.targetTouches[0].pageX, e.targetTouches[0].pageY)) : (this.cloneElem.style.left = e.pageX - this.offsetX + "px", this.cloneElem.style.top = e.pageY - this.offsetY + "px") } }, { key: "finishDrag", value: function (e) { if (e = e || window.event, this.pauseEvent(e), clearTimeout(this.timer), this.timer = "", this.cloneElem) { if (document.oncontextmenu = function (e) { return !0 }, this.isMobile) { for (var t = !1; this.mobileDragToElem.tagName && "HTML" != this.mobileDragToElem.tagName;) { if (this.mobileDragToElem.id == this.targetElem.id) { t = !0; break } this.mobileDragToElem = this.mobileDragToElem.parentNode } t ? this.callbackSuccess(this.cloneElem) : this.callbackFail() } else { var r = !1; for (e = e.target || e.srcElement; "HTML" != e.tagName;) { if (e.id == this.targetElem.id) { r = !0; break } e = e.parentNode } r ? this.callbackSuccess(this.cloneElem) : this.callbackFail() } this.originElem.removeChild(this.cloneElem), delete this.cloneElem, this.isMobile ? (document.removeEventListener("touchmove", this.onDrag), document.removeEventListener("touchend", this.finishDrag)) : (document.removeEventListener("mousemove", this.onDrag), document.removeEventListener("mouseup", this.finishDrag)) } else this.isMobile ? (document.removeEventListener("touchmove", this.moveMouse), document.removeEventListener("touchend", this.finishDrag)) : (document.removeEventListener("mousemove", this.moveMouse), document.removeEventListener("mouseup", this.finishDrag)) } }, { key: "calcOffset", value: function (e) { if (e.offsetTop) { var t = 0 + e.offsetLeft, r = 0 + e.offsetTop; return e = e.offsetParent, [t + this.calcOffset(e)[0], r + this.calcOffset(e)[1]] } return [0, 0] } }, { key: "calcMouseToElem", value: function (e, t) { e = e || window.event; var r = 0, n = 0; if (this.isMobile) { for (r = e.targetTouches[0].pageX, n = e.targetTouches[0].pageY, e = e.target || e.srcElement; void 0 === e.offsetParent;)e = e.parentNode; if (-1 != e.className.indexOf("xy_drag_offset_parent")) r -= e.offsetLeft, n -= e.offsetTop; else for (e = e.offsetParent; e;)r -= e.offsetLeft, n -= e.offsetTop, e = e.offsetParent } else { var o = e.offsetX, i = e.offsetY; for (e = e.target || e.srcElement; void 0 === e.offsetParent;)e = e.parentNode; if (-1 != e.className.indexOf("xy_drag_offset_parent")) r = o, n = i; else { var a = getComputedStyle(e, null); r = o + e.offsetLeft + Number(a.marginLeft.replace("px", "")), n = i + e.offsetTop + Number(a.marginTop.replace("px", "")); for (e = e.offsetParent; -1 == e.className.indexOf("xy_drag_offset_parent");)a = getComputedStyle(e, null), r += e.offsetLeft + Number(a.marginLeft.replace("px", "")), n += e.offsetTop + Number(a.marginTop.replace("px", "")), e = e.offsetParent } } return [r, n] } }, { key: "pauseEvent", value: function (e) { return (e = e || window.event).stopPropagation && e.stopPropagation(), e.preventDefault && e.preventDefault(), e.cancelBubble = !0, e.returnValue = !1 } }, { key: "isMobile", value: function () { return null != navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i) } }]), e }())(e) }, b = function (e) { return new (function () { function e(t) { n()(this, e), this.type = "video" == t.type ? "video" : "image", this.isFile = t.isFile || !1, this.facingMode = t.mode || "user", this.audio = t.audio || !1, this.callbackSuccess = t.success, this.cameraBox = "", this.video = "", this.canvas = "", this.context = "", this.mediaStreamTrack = "", this.shootImage = "", this.recorder = "", this.chunks = [], this.videoStream = "", this.isRecord = !1, this.timer = "", this.recordTime = "00:00", this.reverseTimes = 0, this.init() } return o()(e, [{ key: "init", value: function () { var e = this; navigator.mediaDevices || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.getUserMedia ? (this.cameraBox = document.createElement("div"), this.cameraBox.className = "xy-camera-wrapper", this.cameraBox.innerHTML = '<div id="xy-camera-box">\n                    <div class="xy-camera-img-wrapper">\n                      <img class="xy-camera-showImg" />\n                    </div>\n                    <div class="xy-camera-loading">\n                      <svg \n                        version="1.1" \n                        id="loader-1" \n                        xmlns="http://www.w3.org/2000/svg" \n                        xmlns:xlink="http://www.w3.org/1999/xlink" \n                        x="0px" \n                        y="0px" \n                        width="50px" \n                        height="50px" \n                        viewBox="0 0 40 40" \n                        enable-background="new 0 0 40 40" \n                        xml:space="preserve">\n                        <path opacity="0.2" \n                          fill="#fff" \n                          d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946\n                            s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634\n                            c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z">\n                        </path>\n                        <path \n                          fill="#000" \n                          d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0\n                          C22.32,8.481,24.301,9.057,26.013,10.047z">\n                          <animateTransform \n                            attributeType="xml" \n                            attributeName="transform" \n                            type="rotate" \n                            from="0 20 20" \n                            to="360 20 20" \n                            dur="0.5s" \n                            repeatCount="indefinite">\n                          </animateTransform>\n                        </path>\n                    </svg>\n                    </div>\n                    <div class="xy-camera-video-wrapper">\n                      <video class="xy-camera-showVideo"></video>\n                    </div>\n                    <video class="xy-camera-to-video"></video>\n                    <canvas class="xy-camera-to-canvas" style="display: none;"></canvas>\n                    <div class="xy-camera-close">\n                      <svg viewBox="0 0 15 15"> \n                        <line x1="0" y1="0" x2="15" y2="15"></line>\n                        <line x1="15" y1="0" x2="0" y2="15"></line>\n                      </svg>\n                    </div>\n                    <div class="xy-camera-reverse">\n                     <svg viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">\n                       <path \n                       id="svg_4" \n                       d="m48.54137,17.35421l-1.76389,3.07485l12.52075,0l-3.13099,-5.46535l-3.1286,-5.46371l-1.64692,2.87903c-3.08659,-1.1374 -6.41405,-1.77395 -9.89364,-1.77395c-16.01633,0 -28.99808,13.08535 -28.99808,29.22843c0,6.69991 2.26083,12.85566 6.02336,17.78767l4.40931,-3.41226c-3.04303,-3.98574 -4.87266,-8.95939 -4.88259,-14.3738c0.02216,-13.05147 10.49841,-23.61217 23.44575,-23.63218l7.04554,1.15126zm15.93224,4.69779l-4.4093,3.4139c3.04226,3.98423 4.8719,8.95474 4.88027,14.37075c-0.02217,13.05136 -10.49841,23.61055 -23.4465,23.63206c-2.29448,-0.00299 -4.48959,-0.37903 -6.58223,-1.00791l1.65988,-2.89298l-12.52069,0l3.12867,5.46232l3.13093,5.46986l1.74554,-3.05319c2.96042,1.03875 6.12881,1.61827 9.43791,1.61978c16.01865,-0.00301 28.99816,-13.08837 29.00192,-29.23147c-0.00376,-6.6999 -2.2662,-12.85415 -6.0264,-17.78312l0,0z" \n                       stroke="#fff" \n                       fill="#fff"/>\n                     </svg>\n                    </div>\n                    <div class="xy-camera-tools">\n                      <div class="xy-camera-tools-cancel">\n                        <svg viewBox="0 0 13 13">\n                          <line x1="0" y1="0" x2="13" y2="13"></line>\n                          <line x1="13" y1="0" x2="0" y2="13"></line>\n                        </svg>\n                      </div>\n                      <div class="xy-camera-tools-shoot">\n                        <span></span>\n                      </div>\n                      <div class="xy-camera-tools-shoot-video">\n                        <div class="video-wrapper">\n                          <span></span>\n                        </div>\n                      </div>\n                      <div class="xy-camera-tools-video-time"></div>\n                      <div class="xy-camera-tools-sure">\n                        <svg viewBox="0 0 20 20">\n                          <polyline points="0 9 2 9 8 14 19 1" fill="none"></polyline>\n                        </svg>\n                      </div>\n                    </div>\n                </img>', this.cameraBox.style.transition = "top 0.3s", document.body.style.overflow = "hidden", document.body.appendChild(this.cameraBox), this.cameraBox.style.top = "100vh", setTimeout((function () { e.cameraBox.style.top = "0" })), this.video = document.querySelector(".xy-camera-to-video"), this.canvas = document.querySelector(".xy-camera-to-canvas"), this.context = this.canvas.getContext("2d"), history.pushState(null, null, document.URL), this.closeCamera = this.closeCamera.bind(this), window.history && window.history.pushState && window.addEventListener("popstate", this.closeCamera, !1), this.openCamera()) : alert("您的浏览器不支持访问用户媒体设备") } }, { key: "openCamera", value: function () { "image" == this.type ? document.querySelector(".xy-camera-tools-shoot").style.display = "block" : document.querySelector(".xy-camera-tools-shoot-video").style.display = "flex", window.xyCameraIsClosed = !1, this.openSuccess = this.openSuccess.bind(this), this.openFiled = this.openFiled.bind(this), this.getUserMediaToPhoto({ audio: this.audio, video: { width: { ideal: 1920 }, height: { ideal: 1080 }, facingMode: this.facingMode, permissions: { "audio-capture": { description: "Required to capture audio using getUserMedia()" }, "video-capture": { description: "Required to capture video using getUserMedia()" } } } }, this.openSuccess, this.openFiled), document.querySelector(".xy-camera-close").addEventListener("click", this.closeCamera) } }, { key: "getUserMediaToPhoto", value: function (e, t, r) { navigator.mediaDevices.getUserMedia ? navigator.mediaDevices.getUserMedia(e).then(t).catch(r) : navigator.webkitGetUserMedia ? navigator.webkitGetUserMedia(e, t, r) : navigator.mozGetUserMedia ? navigator.mozGetUserMedia(e, t, r) : navigator.getUserMedia && navigator.getUserMedia(e, t, r) } }, { key: "closeCamera", value: function () { var e = this; document.body.style.overflow = "", this.cameraBox.style.top = "100vh", this.mediaStreamTrack && this.mediaStreamTrack.getTracks().forEach((function (e) { e.stop() })), document.querySelector(".xy-camera-reverse").removeEventListener("click", this.reverseCamera), window.removeEventListener("popstate", this.closeCamera, !1), window.xyCameraIsClosed = !0, setTimeout((function () { clearInterval(e.timer), e.timer = "", document.body.removeChild(e.cameraBox) }), 300) } }, { key: "openSuccess", value: function (e) { var t, r = this; this.mediaStreamTrack = e, window.xyCameraIsClosed && e.getTracks().forEach((function (e) { e.stop() })); try { this.video.srcObject = e } catch (e) { } this.video.onloadedmetadata = function (e) { document.querySelector(".xy-camera-loading").style.display = "none", r.video.play(), "user" == r.facingMode ? (document.querySelector(".xy-camera-to-video").classList.add("rotateActive"), document.querySelector(".xy-camera-showVideo").classList.add("rotateActive")) : (document.querySelector(".xy-camera-to-video").classList.remove("rotateActive"), document.querySelector(".xy-camera-showVideo").classList.remove("rotateActive")), r.reverseCamera = r.reverseCamera.bind(r), document.querySelector(".xy-camera-reverse").addEventListener("click", r.reverseCamera) }, this.video.addEventListener("canplay", (function () { r.canvas.width = this.videoWidth, r.canvas.height = this.videoHeight })), "image" == this.type ? (this.getImage = this.getImage.bind(this), document.querySelector(".xy-camera-tools-shoot").addEventListener("click", this.getImage)) : (this.recorder = new window.MediaRecorder(this.mediaStreamTrack), (t = this).recorder.ondataavailable = function (e) { t.chunks = [], t.chunks.push(e.data), e = new Blob(t.chunks, { type: "video/webm" }), t.videoStream = URL.createObjectURL(e) }, this.startRecord = this.startRecord.bind(this), document.querySelector(".xy-camera-tools-shoot-video").addEventListener("click", this.startRecord)) } }, { key: "openFiled", value: function (e) { e && (e.toString().indexOf("AbortError") ? alert("未知错误 AbortError") : e.toString().indexOf("NotAllowedError") ? alert("没有权限访问媒体设备 NotAllowedError") : e.toString().indexOf("NotFoundError") ? alert("找不到满足请求参数的媒体类型 NotFoundError") : e.toString().indexOf("NotReadableError") ? alert("无法读取媒体设备 NotReadableError") : alert(e)), this.closeCamera() } }, { key: "reverseCamera", value: function () { this.reverseTimes++, this.facingMode = "user" == this.facingMode ? "environment" : "user", this.mediaStreamTrack.getTracks()[0] && this.mediaStreamTrack.getTracks()[0].stop(), this.mediaStreamTrack.getTracks()[1] && this.mediaStreamTrack.getTracks()[1].stop(), document.querySelector(".xy-camera-loading").style.display = "flex", document.querySelector(".xy-camera-reverse").removeEventListener("click", this.reverseCamera), document.querySelector(".xy-camera-reverse").style.transform = "rotateZ(".concat(180 * this.reverseTimes, "deg)"), this.reverseTimes % 2 != 0 ? document.querySelector(".xy-camera-reverse").classList.add("active") : document.querySelector(".xy-camera-reverse").classList.remove("active"), this.getUserMediaToPhoto({ audio: this.audio, video: { width: { ideal: 1920 }, height: { ideal: 1080 }, facingMode: this.facingMode, permissions: { "audio-capture": { description: "Required to capture audio using getUserMedia()" }, "video-capture": { description: "Required to capture video using getUserMedia()" } } } }, this.openSuccess, this.openFiled) } }, { key: "getImage", value: function () { var e; this.shootImage || ("user" == this.facingMode && (this.context.translate(this.canvas.width, 0), this.context.scale(-1, 1)), this.context.drawImage(this.video, 0, 0, this.canvas.width, this.canvas.height), this.shootImage = this.canvas.toDataURL("image/jpg", 1), (e = document.querySelector(".xy-camera-showImg")).parentNode.style.display = "flex", e.src = this.shootImage, document.querySelector(".xy-camera-tools-cancel").style.display = "flex", document.querySelector(".xy-camera-tools-sure").style.display = "flex", this.cancel = this.cancel.bind(this), this.save = this.save.bind(this), document.querySelector(".xy-camera-tools-cancel").addEventListener("click", this.cancel), document.querySelector(".xy-camera-tools-sure ").addEventListener("click", this.save)) } }, { key: "startRecord", value: function () { var e, t, r, n, o = this; this.isRecord || this.videoStream || (t = (e = document.querySelector(".xy-camera-tools-shoot-video")).querySelector("span"), (r = document.querySelector(".xy-camera-tools-video-time")).style.display = "block", e.classList.add("active"), t.classList.add("active"), n = 1, r.innerText = this.recordTime, this.timer = setInterval((function () { var e = 0, t = 0; e = parseInt(n / 60 % 60).toString(), t = parseInt(n % 60).toString(); o.recordTime = e.padStart(2, "0") + ":" + t.padStart(2, "0"), n++, r.innerText = o.recordTime, 3599 == n && (clearInterval(o.timer), o.timer = "") }), 1e3), this.isRecord = !0, this.finishRecord = this.finishRecord.bind(this), e.addEventListener("click", this.finishRecord), this.recorder.start()) } }, { key: "finishRecord", value: function () { var e = this, t = document.querySelector(".xy-camera-tools-shoot-video"), r = t.querySelector("span"); t.classList.remove("active"), r.classList.remove("active"), this.isRecord = !1, clearInterval(this.timer), this.timer = "", this.recorder.stop(), t.removeEventListener("click", this.finishRecord); var n = document.querySelector(".xy-camera-showVideo"); n.parentNode.style.display = "flex", setTimeout((function () { n.src = e.videoStream, n.muted = !1, n.loop = !0, n.play() })), document.querySelector(".xy-camera-tools-cancel").style.display = "flex", document.querySelector(".xy-camera-tools-sure").style.display = "flex", this.cancel = this.cancel.bind(this), this.save = this.save.bind(this), document.querySelector(".xy-camera-tools-cancel").addEventListener("click", this.cancel), document.querySelector(".xy-camera-tools-sure ").addEventListener("click", this.save) } }, { key: "cancel", value: function () { document.querySelector(".xy-camera-tools-cancel").style.display = "none", document.querySelector(".xy-camera-tools-sure").style.display = "none", document.querySelector(".xy-camera-tools-cancel").removeEventListener("click", this.cancel), document.querySelector(".xy-camera-tools-sure ").removeEventListener("click", this.save), "image" == this.type ? (document.querySelector(".xy-camera-img-wrapper").style.display = "none", this.shootImage = "") : (document.querySelector(".xy-camera-tools-video-time").style.display = "none", document.querySelector(".xy-camera-video-wrapper").style.display = "none", clearInterval(this.timer), this.timer = "", this.isRecord = !1, this.chunks = [], this.videoStream = "", this.recordTime = "00:00") } }, { key: "save", value: function () { var e, t; document.querySelector(".xy-camera-tools-cancel").style.display = "none", document.querySelector(".xy-camera-tools-sure").style.display = "none", document.querySelector(".xy-camera-tools-cancel").removeEventListener("click", this.cancel), document.querySelector(".xy-camera-tools-sure ").removeEventListener("click", this.save), "image" == this.type ? (document.querySelector(".xy-camera-img-wrapper").style.display = "none", document.querySelector(".xy-camera-tools-shoot").removeEventListener("click", this.getImage), this.isFile ? this.callbackSuccess(this.dataURLtoFile(this.shootImage, (new Date).getTime() + Math.random().toString().substr(3, 5))) : this.callbackSuccess(this.shootImage), this.shootImage = "") : (document.querySelector(".xy-camera-tools-shoot-video").removeEventListener("click", this.startRecord), document.querySelector(".xy-camera-video-wrapper").style.display = "none", e = new Blob(this.chunks, { type: "video/webm" }), "", t = new window.File([e], (new Date).getTime() + Math.random().toString().substr(3, 5), { type: e.type }), this.callbackSuccess(t), this.chunks = []), this.closeCamera() } }, { key: "dataURLtoFile", value: function (e, t) { for (var r = e.split(","), n = (e = r[0].match(/:(.*?);/)[1], atob(r[1])), o = n.length, i = new Uint8Array(o); o--;)i[o] = n.charCodeAt(o); return new File([i], t, { type: e }) } }]), e }())(e) }; r(6) }, function (e, t) { }], e.c = r, e.d = function (t, r, n) { e.o(t, r) || Object.defineProperty(t, r, { enumerable: !0, get: n }) }, e.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, e.t = function (t, r) { if (1 & r && (t = e(t)), 8 & r) return t; if (4 & r && "object" == typeof t && t && t.__esModule) return t; var n = Object.create(null); if (e.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: t }), 2 & r && "string" != typeof t) for (var o in t) e.d(n, o, function (e) { return t[e] }.bind(null, o)); return n }, e.n = function (t) { var r = t && t.__esModule ? function () { return t.default } : function () { return t }; return e.d(r, "a", r), r }, e.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, e.p = "", e(e.s = 5); function e(n) { if (r[n]) return r[n].exports; var o = r[n] = { i: n, l: !1, exports: {} }; return t[n].call(o.exports, o, o.exports, e), o.l = !0, o.exports } var t, r }));